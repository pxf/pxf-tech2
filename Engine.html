<!DOCTYPE html PUBLIC "-//W3C//DTD XHTML 1.1//EN"
    "http://www.w3.org/TR/xhtml11/DTD/xhtml11.dtd">
<html xmlns="http://www.w3.org/1999/xhtml" xml:lang="en">
<head>
<meta http-equiv="Content-Type" content="application/xhtml+xml; charset=UTF-8" />
<meta name="generator" content="AsciiDoc 8.6.1" />
<title>pxf-tech2 engine</title>
<style type="text/css">
/* Debug borders */
p, li, dt, dd, div, pre, h1, h2, h3, h4, h5, h6 {
/*
  border: 1px solid red;
*/
}

body {
  margin: 1em 5% 1em 5%;
}

a {
  color: blue;
  text-decoration: underline;
}
a:visited {
  color: fuchsia;
}

em {
  font-style: italic;
  color: navy;
}

strong {
  font-weight: bold;
  color: #083194;
}

tt {
  color: navy;
}

h1, h2, h3, h4, h5, h6 {
  color: #527bbd;
  font-family: sans-serif;
  margin-top: 1.2em;
  margin-bottom: 0.5em;
  line-height: 1.3;
}

h1, h2, h3 {
  border-bottom: 2px solid silver;
}
h2 {
  padding-top: 0.5em;
}
h3 {
  float: left;
}
h3 + * {
  clear: left;
}

div.sectionbody {
  font-family: serif;
  margin-left: 0;
}

hr {
  border: 1px solid silver;
}

p {
  margin-top: 0.5em;
  margin-bottom: 0.5em;
}

ul, ol, li > p {
  margin-top: 0;
}

pre {
  padding: 0;
  margin: 0;
}

span#author {
  color: #527bbd;
  font-family: sans-serif;
  font-weight: bold;
  font-size: 1.1em;
}
span#email {
}
span#revnumber, span#revdate, span#revremark {
  font-family: sans-serif;
}

div#footer {
  font-family: sans-serif;
  font-size: small;
  border-top: 2px solid silver;
  padding-top: 0.5em;
  margin-top: 4.0em;
}
div#footer-text {
  float: left;
  padding-bottom: 0.5em;
}
div#footer-badges {
  float: right;
  padding-bottom: 0.5em;
}

div#preamble {
  margin-top: 1.5em;
  margin-bottom: 1.5em;
}
div.tableblock, div.imageblock, div.exampleblock, div.verseblock,
div.quoteblock, div.literalblock, div.listingblock, div.sidebarblock,
div.admonitionblock {
  margin-top: 1.0em;
  margin-bottom: 1.5em;
}
div.admonitionblock {
  margin-top: 2.0em;
  margin-bottom: 2.0em;
  margin-right: 10%;
  color: #606060;
}

div.content { /* Block element content. */
  padding: 0;
}

/* Block element titles. */
div.title, caption.title {
  color: #527bbd;
  font-family: sans-serif;
  font-weight: bold;
  text-align: left;
  margin-top: 1.0em;
  margin-bottom: 0.5em;
}
div.title + * {
  margin-top: 0;
}

td div.title:first-child {
  margin-top: 0.0em;
}
div.content div.title:first-child {
  margin-top: 0.0em;
}
div.content + div.title {
  margin-top: 0.0em;
}

div.sidebarblock > div.content {
  background: #ffffee;
  border: 1px solid silver;
  padding: 0.5em;
}

div.listingblock > div.content {
  border: 1px solid silver;
  background: #f4f4f4;
  padding: 0.5em;
}

div.quoteblock, div.verseblock {
  padding-left: 1.0em;
  margin-left: 1.0em;
  margin-right: 10%;
  border-left: 5px solid #dddddd;
  color: #777777;
}

div.quoteblock > div.attribution {
  padding-top: 0.5em;
  text-align: right;
}

div.verseblock > pre.content {
  font-family: inherit;
}
div.verseblock > div.attribution {
  padding-top: 0.75em;
  text-align: left;
}
/* DEPRECATED: Pre version 8.2.7 verse style literal block. */
div.verseblock + div.attribution {
  text-align: left;
}

div.admonitionblock .icon {
  vertical-align: top;
  font-size: 1.1em;
  font-weight: bold;
  text-decoration: underline;
  color: #527bbd;
  padding-right: 0.5em;
}
div.admonitionblock td.content {
  padding-left: 0.5em;
  border-left: 3px solid #dddddd;
}

div.exampleblock > div.content {
  border-left: 3px solid #dddddd;
  padding-left: 0.5em;
}

div.imageblock div.content { padding-left: 0; }
span.image img { border-style: none; }
a.image:visited { color: white; }

dl {
  margin-top: 0.8em;
  margin-bottom: 0.8em;
}
dt {
  margin-top: 0.5em;
  margin-bottom: 0;
  font-style: normal;
  color: navy;
}
dd > *:first-child {
  margin-top: 0.1em;
}

ul, ol {
    list-style-position: outside;
}
ol.arabic {
  list-style-type: decimal;
}
ol.loweralpha {
  list-style-type: lower-alpha;
}
ol.upperalpha {
  list-style-type: upper-alpha;
}
ol.lowerroman {
  list-style-type: lower-roman;
}
ol.upperroman {
  list-style-type: upper-roman;
}

div.compact ul, div.compact ol,
div.compact p, div.compact p,
div.compact div, div.compact div {
  margin-top: 0.1em;
  margin-bottom: 0.1em;
}

div.tableblock > table {
  border: 3px solid #527bbd;
}
thead, p.table.header {
  font-family: sans-serif;
  font-weight: bold;
  color: #527bbd;
}
tfoot {
  font-weight: bold;
}
td > div.verse {
  white-space: pre;
}
p.table {
  margin-top: 0;
}
/* Because the table frame attribute is overriden by CSS in most browsers. */
div.tableblock > table[frame="void"] {
  border-style: none;
}
div.tableblock > table[frame="hsides"] {
  border-left-style: none;
  border-right-style: none;
}
div.tableblock > table[frame="vsides"] {
  border-top-style: none;
  border-bottom-style: none;
}


div.hdlist {
  margin-top: 0.8em;
  margin-bottom: 0.8em;
}
div.hdlist tr {
  padding-bottom: 15px;
}
dt.hdlist1.strong, td.hdlist1.strong {
  font-weight: bold;
}
td.hdlist1 {
  vertical-align: top;
  font-style: normal;
  padding-right: 0.8em;
  color: navy;
}
td.hdlist2 {
  vertical-align: top;
}
div.hdlist.compact tr {
  margin: 0;
  padding-bottom: 0;
}

.comment {
  background: yellow;
}

.footnote, .footnoteref {
  font-size: 0.8em;
}

span.footnote, span.footnoteref {
  vertical-align: super;
}

#footnotes {
  margin: 20px 0 20px 0;
  padding: 7px 0 0 0;
}

#footnotes div.footnote {
  margin: 0 0 5px 0;
}

#footnotes hr {
  border: none;
  border-top: 1px solid silver;
  height: 1px;
  text-align: left;
  margin-left: 0;
  width: 20%;
  min-width: 100px;
}

div.colist td {
  padding-right: 0.5em;
  padding-bottom: 0.3em;
  vertical-align: top;
}
div.colist td img {
  margin-top: 0.3em;
}

@media print {
  div#footer-badges { display: none; }
}

div#toc {
  margin-bottom: 2.5em;
}

div#toctitle {
  color: #527bbd;
  font-family: sans-serif;
  font-size: 1.1em;
  font-weight: bold;
  margin-top: 1.0em;
  margin-bottom: 0.1em;
}

div.toclevel1, div.toclevel2, div.toclevel3, div.toclevel4 {
  margin-top: 0;
  margin-bottom: 0;
}
div.toclevel2 {
  margin-left: 2em;
  font-size: 0.9em;
}
div.toclevel3 {
  margin-left: 4em;
  font-size: 0.9em;
}
div.toclevel4 {
  margin-left: 6em;
  font-size: 0.9em;
}

</style>
<script type="text/javascript">
/*<![CDATA[*/
window.onload = function(){asciidoc.footnotes();}
var asciidoc = {  // Namespace.

/////////////////////////////////////////////////////////////////////
// Table Of Contents generator
/////////////////////////////////////////////////////////////////////

/* Author: Mihai Bazon, September 2002
 * http://students.infoiasi.ro/~mishoo
 *
 * Table Of Content generator
 * Version: 0.4
 *
 * Feel free to use this script under the terms of the GNU General Public
 * License, as long as you do not remove or alter this notice.
 */

 /* modified by Troy D. Hanson, September 2006. License: GPL */
 /* modified by Stuart Rackham, 2006, 2009. License: GPL */

// toclevels = 1..4.
toc: function (toclevels) {

  function getText(el) {
    var text = "";
    for (var i = el.firstChild; i != null; i = i.nextSibling) {
      if (i.nodeType == 3 /* Node.TEXT_NODE */) // IE doesn't speak constants.
        text += i.data;
      else if (i.firstChild != null)
        text += getText(i);
    }
    return text;
  }

  function TocEntry(el, text, toclevel) {
    this.element = el;
    this.text = text;
    this.toclevel = toclevel;
  }

  function tocEntries(el, toclevels) {
    var result = new Array;
    var re = new RegExp('[hH]([2-'+(toclevels+1)+'])');
    // Function that scans the DOM tree for header elements (the DOM2
    // nodeIterator API would be a better technique but not supported by all
    // browsers).
    var iterate = function (el) {
      for (var i = el.firstChild; i != null; i = i.nextSibling) {
        if (i.nodeType == 1 /* Node.ELEMENT_NODE */) {
          var mo = re.exec(i.tagName);
          if (mo && (i.getAttribute("class") || i.getAttribute("className")) != "float") {
            result[result.length] = new TocEntry(i, getText(i), mo[1]-1);
          }
          iterate(i);
        }
      }
    }
    iterate(el);
    return result;
  }

  var toc = document.getElementById("toc");
  var entries = tocEntries(document.getElementById("content"), toclevels);
  for (var i = 0; i < entries.length; ++i) {
    var entry = entries[i];
    if (entry.element.id == "")
      entry.element.id = "_toc_" + i;
    var a = document.createElement("a");
    a.href = "#" + entry.element.id;
    a.appendChild(document.createTextNode(entry.text));
    var div = document.createElement("div");
    div.appendChild(a);
    div.className = "toclevel" + entry.toclevel;
    toc.appendChild(div);
  }
  if (entries.length == 0)
    toc.parentNode.removeChild(toc);
},


/////////////////////////////////////////////////////////////////////
// Footnotes generator
/////////////////////////////////////////////////////////////////////

/* Based on footnote generation code from:
 * http://www.brandspankingnew.net/archive/2005/07/format_footnote.html
 */

footnotes: function () {
  var cont = document.getElementById("content");
  var noteholder = document.getElementById("footnotes");
  var spans = cont.getElementsByTagName("span");
  var refs = {};
  var n = 0;
  for (i=0; i<spans.length; i++) {
    if (spans[i].className == "footnote") {
      n++;
      // Use [\s\S] in place of . so multi-line matches work.
      // Because JavaScript has no s (dotall) regex flag.
      note = spans[i].innerHTML.match(/\s*\[([\s\S]*)]\s*/)[1];
      noteholder.innerHTML +=
        "<div class='footnote' id='_footnote_" + n + "'>" +
        "<a href='#_footnoteref_" + n + "' title='Return to text'>" +
        n + "</a>. " + note + "</div>";
      spans[i].innerHTML =
        "[<a id='_footnoteref_" + n + "' href='#_footnote_" + n +
        "' title='View footnote' class='footnote'>" + n + "</a>]";
      var id =spans[i].getAttribute("id");
      if (id != null) refs["#"+id] = n;
    }
  }
  if (n == 0)
    noteholder.parentNode.removeChild(noteholder);
  else {
    // Process footnoterefs.
    for (i=0; i<spans.length; i++) {
      if (spans[i].className == "footnoteref") {
        var href = spans[i].getElementsByTagName("a")[0].getAttribute("href");
        href = href.match(/#.*/)[0];  // Because IE return full URL.
        n = refs[href];
        spans[i].innerHTML =
          "[<a href='#_footnote_" + n +
          "' title='View footnote' class='footnote'>" + n + "</a>]";
      }
    }
  }
}

}
/*]]>*/
</script>
</head>
<body class="article">
<div id="header">
<h1>pxf-tech2 engine</h1>
</div>
<div id="content">
<div class="sect1">
<h2 id="_document_notes">Document notes:</h2>
<div class="sectionbody">
<div class="paragraph"><p>This document does not cover 100% of the API as the engine still is in heavy development. However, it will
provide a brief overview of the engine design and some code snippets that explains basic usage. For details,
check the header files. Most of them should be easy to understand.</p></div>
<div class="paragraph"><p>This document should be more of a general usage guide than a specification of the API, we are not quite there yet though.</p></div>
</div>
</div>
<div class="sect1">
<h2 id="_build_system">Build system</h2>
<div class="sectionbody">
<div class="paragraph"><p>The engine uses the build system <a href="http://matricks.github.com/bam/">bam</a>. We have a customized
build file that resolves module and library dependencies in a simple way for each project.</p></div>
<div class="listingblock">
<div class="title">Example build-file for a simple project</div>
<div class="content"><!-- Generator: GNU source-highlight 3.1.3
by Lorenzo Bettini
http://www.lorenzobettini.it
http://www.gnu.org/software/src-highlite -->
<pre><tt><span style="font-weight: bold"><span style="color: #000000">Import</span></span><span style="color: #990000">(</span><span style="color: #FF0000">"../../PxfBuild.lua"</span><span style="color: #990000">)</span>
project <span style="color: #990000">=</span> <span style="font-weight: bold"><span style="color: #000000">NewProject</span></span><span style="color: #990000">(</span><span style="color: #FF0000">"example-project"</span><span style="color: #990000">)</span>

<span style="font-style: italic"><span style="color: #9A1900">-- Build and link with lua, make headers available etc.</span></span>
<span style="font-weight: bold"><span style="color: #000000">project:RequireLibrary</span></span><span style="color: #990000">(</span><span style="color: #FF0000">"lua"</span><span style="color: #990000">)</span>

<span style="font-style: italic"><span style="color: #9A1900">-- Add the module "net", which implements &lt;Pxf/Network/*&gt;. Our implementation uses enet.</span></span>
<span style="font-weight: bold"><span style="color: #000000">project:RequireModule</span></span><span style="color: #990000">(</span><span style="color: #FF0000">"net"</span><span style="color: #990000">)</span>

<span style="font-style: italic"><span style="color: #9A1900">-- Add appropriate include and source directories</span></span>
<span style="font-weight: bold"><span style="color: #000000">project:AddIncludeDirectory</span></span><span style="color: #990000">(</span><span style="color: #FF0000">"Include/"</span><span style="color: #990000">)</span>
<span style="font-weight: bold"><span style="color: #000000">project:AddSourceDirectory</span></span><span style="color: #990000">(</span><span style="color: #FF0000">"Source/*.cpp"</span><span style="color: #990000">)</span>

<span style="font-style: italic"><span style="color: #9A1900">-- Build</span></span>
<span style="font-weight: bold"><span style="color: #000000">project:Build</span></span><span style="color: #990000">()</span></tt></pre></div></div>
<div class="paragraph"><p>Modules and libraries are specified in a similar way, have a look in <strong>Libraries/rtaudio</strong>
and <strong>Modules/snd</strong> to see how the audio system is built.</p></div>
<div class="sect2">
<h3 id="_building">Building</h3>
<div class="paragraph"><p>Installing bam is simple, however; on Windows the build-tools aren&#8217;t in <strong>$PATH</strong> by default. The easiest
way to get it to work is to copy Tools/bam* to %windir%.</p></div>
<div class="paragraph"><p>Now, assuming that bam and your compiler is in <strong>$PATH</strong>, compiling should be as easy as the following:</p></div>
<div class="listingblock">
<div class="content">
<pre><tt>bam -j 4 -s Build.lua target_type</tt></pre>
</div></div>
<div class="paragraph"><p>The above command executes compilation using 4 threads; change this number depending on the system you are using.</p></div>
<div class="paragraph"><p>Currently the following target type are defined:</p></div>
<div class="ulist"><ul>
<li>
<p>
debug - static debug build, modules will be compiled and embedded in a single binary
</p>
</li>
<li>
<p>
debug_dll - dynamic debug build, modules will be compiled as easy-replacable dynamic libraries
</p>
</li>
<li>
<p>
release - static release build
</p>
</li>
<li>
<p>
release_dll - dynamic release build
</p>
</li>
</ul></div>
</div>
<div class="sect2">
<h3 id="_future_additions">Future additions</h3>
<div class="ulist"><ul>
<li>
<p>
Should be able to compile individual modules in a simple way
</p>
<div class="ulist"><ul>
<li>
<p>
debug_<strong>module</strong>, release_<strong>module</strong>
</p>
</li>
</ul></div>
</li>
</ul></div>
</div>
</div>
</div>
<div class="sect1">
<h2 id="_engine">Engine</h2>
<div class="sectionbody">
<div class="paragraph"><p>This is a general overview of the pxf tech2 engine, its components and how they interact with each other.</p></div>
<div class="sect2">
<h3 id="_kernel">Kernel</h3>
<div class="sect3">
<h4 id="_general">General</h4>
<div class="paragraph"><p>The kernel is the main component in <strong>pxf-tech2</strong>. The kernel is a singleton, and you can get
the instance by calling</p></div>
<div class="listingblock">
<div class="content"><!-- Generator: GNU source-highlight 3.1.3
by Lorenzo Bettini
http://www.lorenzobettini.it
http://www.gnu.org/software/src-highlite -->
<pre><tt>Kernel<span style="color: #990000">*</span> Kernel<span style="color: #990000">::</span><span style="font-weight: bold"><span style="color: #000000">GetInstance</span></span><span style="color: #990000">();</span></tt></pre></div></div>
</div>
<div class="sect3">
<h4 id="_modules">Modules</h4>
<div class="paragraph"><p>With the kernel, we can register external modules (.dll, .so, .dynlib depending on your platform)
.Example of registering a module</p></div>
<div class="listingblock">
<div class="content"><!-- Generator: GNU source-highlight 3.1.3
by Lorenzo Bettini
http://www.lorenzobettini.it
http://www.gnu.org/software/src-highlite -->
<pre><tt>kernel<span style="color: #990000">-&gt;</span><span style="font-weight: bold"><span style="color: #000000">RegisterModule</span></span><span style="color: #990000">(</span><span style="color: #FF0000">"snd"</span><span style="color: #990000">,</span> Pxf<span style="color: #990000">::</span>System<span style="color: #990000">::</span>SYSTEM_TYPE_AUDIODEVICE <span style="color: #990000">|</span> Pxf<span style="color: #990000">::</span>System<span style="color: #990000">::</span>SYSTEM_TYPE_RESOURCELOADER<span style="color: #990000">);</span></tt></pre></div></div>
<div class="paragraph"><p>We have a module <strong>snd</strong> that is responsible for audio output, and what the above snippet does is the following:</p></div>
<div class="ulist"><ul>
<li>
<p>
Check what platform we are compiled for, and if we are in release or debug mode
</p>
<div class="ulist"><ul>
<li>
<p>
Load snd_<strong>BuildTypeSuffix</strong>.<strong>PlatformExt</strong> (e.g snd_ddyn.dll for dynamically linked build in debug mode on windows)
</p>
</li>
</ul></div>
</li>
<li>
<p>
Load module and create an instance of it
</p>
</li>
<li>
<p>
Check if the module is already loaded (this is the case if a module is already built-in to the binary)<sup>1</sup>
</p>
<div class="ulist"><ul>
<li>
<p>
fail, replace or do nothing etc etc.
</p>
</li>
</ul></div>
</li>
<li>
<p>
Call Module::RegisterSystems for the loaded module, in the case above we have a filter that
  specifies to load audio devices and resource loaders (e.g. support for .ogg-files).
</p>
</li>
<li>
<p>
All done, the audio device is now registered with the kernel, and the instance is available
through <strong>Kernel::GetAudioDevice()</strong>
</p>
</li>
</ul></div>
<div class="paragraph"><p><strong>1.</strong> An optional third flag (default=false) can be specified in Kernel::RegisterModule, if set to true
the already loaded module will be replaced.</p></div>
</div>
<div class="sect3">
<h4 id="_systems">Systems</h4>
<div class="paragraph"><p>Currently we have interfaces and working modules for the following systems</p></div>
<div class="ulist"><ul>
<li>
<p>
Audio (snd)
</p>
</li>
<li>
<p>
Graphics (pri)
</p>
</li>
<li>
<p>
Network (net)
</p>
</li>
<li>
<p>
Input (pri)
</p>
</li>
<li>
<p>
Resource Loader (snd::ogg, json, img, mesh)
</p>
</li>
</ul></div>
<div class="paragraph"><p>Future plans on additional systems</p></div>
<div class="ulist"><ul>
<li>
<p>
Scripting
</p>
</li>
<li>
<p>
Physics
</p>
</li>
</ul></div>
<div class="sect4">
<h5 id="_resource_loaders">Resource Loaders</h5>
<div class="paragraph"><p>The resource loaders implements interfaces found in <strong>Pxf/Resource/$Type.h</strong>, and has the following methods for
loading a resource.</p></div>
<div class="ulist"><ul>
<li>
<p>
Load(file_path);
</p>
</li>
<li>
<p>
CreateFrom(memory_ptr, length);
</p>
</li>
</ul></div>
<div class="paragraph"><p>A loader can also have custom methods, for example the JSON loader has</p></div>
<div class="ulist"><ul>
<li>
<p>
CreateEmpty();
</p>
</li>
</ul></div>
<div class="paragraph"><p>and the image loader has</p></div>
<div class="ulist"><ul>
<li>
<p>
CreateFromRaw(width, height, num_color_channels, memory_ptr);
</p>
</li>
</ul></div>
</div>
</div>
</div>
<div class="sect2">
<h3 id="_resource_management">Resource Management</h3>
<div class="paragraph"><p>The kernel manages a resource manager available with</p></div>
<div class="listingblock">
<div class="content"><!-- Generator: GNU source-highlight 3.1.3
by Lorenzo Bettini
http://www.lorenzobettini.it
http://www.gnu.org/software/src-highlite -->
<pre><tt>Resource<span style="color: #990000">::</span>ResourceManager<span style="color: #990000">*</span> Kernel<span style="color: #990000">::</span><span style="font-weight: bold"><span style="color: #000000">GetResourceManager</span></span><span style="color: #990000">();</span></tt></pre></div></div>
<div class="paragraph"><p>The resource manager keeps a table of loaded resources, and does some simple reference counting to remove resources from memory when they aren&#8217;t being used.
From a usage perspective this works rather simple. As an example, I will load an audio sample:</p></div>
<div class="listingblock">
<div class="content"><!-- Generator: GNU source-highlight 3.1.3
by Lorenzo Bettini
http://www.lorenzobettini.it
http://www.gnu.org/software/src-highlite -->
<pre><tt>Resource<span style="color: #990000">::</span>ResourceManager<span style="color: #990000">*</span> res <span style="color: #990000">=</span> kernel<span style="color: #990000">-&gt;</span><span style="font-weight: bold"><span style="color: #000000">GetResourceManager</span></span><span style="color: #990000">();</span>

<span style="font-style: italic"><span style="color: #9A1900">// Load file and create resource</span></span>
Resource<span style="color: #990000">::</span>Sound<span style="color: #990000">*</span> snd <span style="color: #990000">=</span> res<span style="color: #990000">-&gt;</span>Acquire<span style="color: #990000">&lt;</span>Resource<span style="color: #990000">::</span>Sound<span style="color: #990000">&gt;(</span><span style="color: #FF0000">"data/my_sample.ogg"</span><span style="color: #990000">);</span>

<span style="font-style: italic"><span style="color: #9A1900">// Register sample and play it</span></span>
Audio<span style="color: #990000">::</span><span style="color: #008080">AudioDevice</span> audio <span style="color: #990000">=</span> res<span style="color: #990000">-&gt;</span><span style="font-weight: bold"><span style="color: #000000">GetAudioDevice</span></span><span style="color: #990000">();</span>
<span style="color: #009900">int</span> audio_id <span style="color: #990000">=</span> audio<span style="color: #990000">-&gt;</span><span style="font-weight: bold"><span style="color: #000000">RegisterSound</span></span><span style="color: #990000">(</span>snd<span style="color: #990000">);</span>
<span style="font-weight: bold"><span style="color: #0000FF">if</span></span> <span style="color: #990000">(</span>audio_id <span style="color: #990000">&gt;=</span> <span style="color: #993399">0</span><span style="color: #990000">)</span>
    audio<span style="color: #990000">-&gt;</span><span style="font-weight: bold"><span style="color: #000000">Play</span></span><span style="color: #990000">(</span>audio_id<span style="color: #990000">);</span>

<span style="font-style: italic"><span style="color: #9A1900">// ...</span></span>

<span style="font-style: italic"><span style="color: #9A1900">// Release sample (this should also invalidate the audio_id)</span></span>
res<span style="color: #990000">-&gt;</span><span style="font-weight: bold"><span style="color: #000000">Release</span></span><span style="color: #990000">(</span>snd<span style="color: #990000">);</span></tt></pre></div></div>
<div class="paragraph"><p>It&#8217;s a bit trickier to create a resource manually, but this is how it&#8217;s currently done.</p></div>
<div class="listingblock">
<div class="content"><!-- Generator: GNU source-highlight 3.1.3
by Lorenzo Bettini
http://www.lorenzobettini.it
http://www.gnu.org/software/src-highlite -->
<pre><tt><span style="font-weight: bold"><span style="color: #0000FF">const</span></span> <span style="color: #009900">char</span> ogg_data<span style="color: #990000">[]</span> <span style="color: #990000">=</span> <span style="color: #FF0000">"..."</span><span style="color: #990000">;</span>
Resource<span style="color: #990000">::</span>SoundLoader<span style="color: #990000">*</span> snd_ldr <span style="color: #990000">=</span> res<span style="color: #990000">-&gt;</span>FindResourceLoader<span style="color: #990000">&lt;</span>Resource<span style="color: #990000">::</span>SoundLoader<span style="color: #990000">&gt;(</span><span style="color: #FF0000">"ogg"</span><span style="color: #990000">);</span>
Resource<span style="color: #990000">::</span>Sound<span style="color: #990000">*</span> snd <span style="color: #990000">=</span> snd_ldr<span style="color: #990000">-&gt;</span><span style="font-weight: bold"><span style="color: #000000">CreateFrom</span></span><span style="color: #990000">(</span>ogg_data<span style="color: #990000">,</span> <span style="font-weight: bold"><span style="color: #0000FF">sizeof</span></span><span style="color: #990000">(</span>ogg_data<span style="color: #990000">)/</span><span style="font-weight: bold"><span style="color: #0000FF">sizeof</span></span><span style="color: #990000">(</span>ogg_data<span style="color: #990000">[</span><span style="color: #993399">0</span><span style="color: #990000">]));</span>
<span style="color: #990000">...</span></tt></pre></div></div>
<div class="paragraph"><p>Simpler methods might be added at a later time.</p></div>
<div class="paragraph"><p>To see what modules are loaded, we can dump them to screen using</p></div>
<div class="listingblock">
<div class="content"><!-- Generator: GNU source-highlight 3.1.3
by Lorenzo Bettini
http://www.lorenzobettini.it
http://www.gnu.org/software/src-highlite -->
<pre><tt>res<span style="color: #990000">-&gt;</span><span style="font-weight: bold"><span style="color: #000000">DumpResourceLoaders</span></span><span style="color: #990000">();</span></tt></pre></div></div>
</div>
</div>
</div>
<div class="sect1">
<h2 id="_audio">Audio</h2>
<div class="sectionbody">
<div class="paragraph"><p>Initialize the audio-device. _BufferSize is the number of frames to process at a time. There is less audio latency with
lower buffer size, as long as the sound card can keep up. _MaxVoices is the maximum number of simultaniously playing sounds.</p></div>
<div class="listingblock">
<div class="content"><!-- Generator: GNU source-highlight 3.1.3
by Lorenzo Bettini
http://www.lorenzobettini.it
http://www.gnu.org/software/src-highlite -->
<pre><tt><span style="color: #009900">bool</span> AudioDevice<span style="color: #990000">::</span><span style="font-weight: bold"><span style="color: #000000">Initialize</span></span><span style="color: #990000">(</span><span style="color: #009900">unsigned</span> <span style="color: #009900">int</span> _BufferSize<span style="color: #990000">,</span> <span style="color: #009900">unsigned</span> <span style="color: #009900">int</span> _MaxVoices<span style="color: #990000">);</span></tt></pre></div></div>
<div class="paragraph"><p>Register a sound with the engine, return identifier used for controlling the sound.</p></div>
<div class="listingblock">
<div class="content"><!-- Generator: GNU source-highlight 3.1.3
by Lorenzo Bettini
http://www.lorenzobettini.it
http://www.gnu.org/software/src-highlite -->
<pre><tt><span style="color: #009900">int</span> AudioDevice<span style="color: #990000">::</span><span style="font-weight: bold"><span style="color: #000000">RegisterSound</span></span><span style="color: #990000">(</span><span style="font-weight: bold"><span style="color: #0000FF">const</span></span> <span style="color: #009900">char</span><span style="color: #990000">*</span> _Filename<span style="color: #990000">);</span>
<span style="color: #009900">int</span> AudioDevice<span style="color: #990000">::</span><span style="font-weight: bold"><span style="color: #000000">RegisterSound</span></span><span style="color: #990000">(</span>Resource<span style="color: #990000">::</span>Sound<span style="color: #990000">*</span> _Sound<span style="color: #990000">);</span></tt></pre></div></div>
<div class="paragraph"><p>Look-up sound id based on sound instance</p></div>
<div class="listingblock">
<div class="content"><!-- Generator: GNU source-highlight 3.1.3
by Lorenzo Bettini
http://www.lorenzobettini.it
http://www.gnu.org/software/src-highlite -->
<pre><tt><span style="color: #009900">int</span> AudioDevice<span style="color: #990000">::</span><span style="font-weight: bold"><span style="color: #000000">GetSoundID</span></span><span style="color: #990000">(</span><span style="font-weight: bold"><span style="color: #0000FF">const</span></span> Resource<span style="color: #990000">::</span>Sound<span style="color: #990000">*</span> _Sound<span style="color: #990000">);</span></tt></pre></div></div>
<div class="paragraph"><p>Unregister sound</p></div>
<div class="listingblock">
<div class="content"><!-- Generator: GNU source-highlight 3.1.3
by Lorenzo Bettini
http://www.lorenzobettini.it
http://www.gnu.org/software/src-highlite -->
<pre><tt><span style="color: #009900">void</span> AudioDevice<span style="color: #990000">::</span><span style="font-weight: bold"><span style="color: #000000">UnregisterSound</span></span><span style="color: #990000">(</span><span style="color: #009900">int</span> _Id<span style="color: #990000">);</span>
<span style="color: #009900">void</span> AudioDevice<span style="color: #990000">::</span><span style="font-weight: bold"><span style="color: #000000">UnregisterSound</span></span><span style="color: #990000">(</span><span style="font-weight: bold"><span style="color: #0000FF">const</span></span> Resource<span style="color: #990000">::</span>Sound<span style="color: #990000">*</span> _Sound<span style="color: #990000">);</span></tt></pre></div></div>
<div class="paragraph"><p>Playback controls</p></div>
<div class="listingblock">
<div class="title">Play</div>
<div class="content"><!-- Generator: GNU source-highlight 3.1.3
by Lorenzo Bettini
http://www.lorenzobettini.it
http://www.gnu.org/software/src-highlite -->
<pre><tt><span style="color: #009900">void</span> AudioDevice<span style="color: #990000">::</span><span style="font-weight: bold"><span style="color: #000000">Play</span></span><span style="color: #990000">(</span><span style="color: #009900">int</span> _SoundID<span style="color: #990000">,</span> <span style="color: #009900">bool</span> _Loop <span style="color: #990000">=</span> <span style="font-weight: bold"><span style="color: #0000FF">false</span></span><span style="color: #990000">);</span></tt></pre></div></div>
<div class="paragraph"><p>Behaviour for different states of _SoundID</p></div>
<div class="ulist"><ul>
<li>
<p>
Play
</p>
<div class="ulist"><ul>
<li>
<p>
Starts playing sample with _SoundID if it&#8217;s not an active voice
</p>
</li>
<li>
<p>
Resumes _SoundID if it&#8217;s a paused voice
</p>
</li>
<li>
<p>
Restart _SoundID if it&#8217;s an active playing voice
</p>
</li>
</ul></div>
</li>
</ul></div>
<div class="paragraph"><div class="title">Other</div><p>Stop or pause individual or all voices.</p></div>
<div class="listingblock">
<div class="content"><!-- Generator: GNU source-highlight 3.1.3
by Lorenzo Bettini
http://www.lorenzobettini.it
http://www.gnu.org/software/src-highlite -->
<pre><tt><span style="color: #009900">void</span> AudioDevice<span style="color: #990000">::</span><span style="font-weight: bold"><span style="color: #000000">Stop</span></span><span style="color: #990000">(</span><span style="color: #009900">int</span> _SoundID<span style="color: #990000">);</span>
<span style="color: #009900">void</span> AudioDevice<span style="color: #990000">::</span><span style="font-weight: bold"><span style="color: #000000">StopAll</span></span><span style="color: #990000">();</span>
<span style="color: #009900">void</span> AudioDevice<span style="color: #990000">::</span><span style="font-weight: bold"><span style="color: #000000">Pause</span></span><span style="color: #990000">(</span><span style="color: #009900">int</span> _SoundID<span style="color: #990000">);</span>
<span style="color: #009900">void</span> AudioDevice<span style="color: #990000">::</span><span style="font-weight: bold"><span style="color: #000000">PauseAll</span></span><span style="color: #990000">();</span></tt></pre></div></div>
<div class="paragraph"><p>Dump audio device information to the logger</p></div>
<div class="listingblock">
<div class="content"><!-- Generator: GNU source-highlight 3.1.3
by Lorenzo Bettini
http://www.lorenzobettini.it
http://www.gnu.org/software/src-highlite -->
<pre><tt><span style="color: #009900">void</span> AudioDevice<span style="color: #990000">::</span><span style="font-weight: bold"><span style="color: #000000">DumpInfo</span></span><span style="color: #990000">();</span></tt></pre></div></div>
</div>
</div>
<div class="sect1">
<h2 id="_graphics">Graphics</h2>
<div class="sectionbody">
<div class="paragraph"><p>For now, see <strong>Pxf/Graphics/*.h</strong>. Still very much a work-in-progress. See <strong>Projects/DERPRenderer</strong> for advanced usage.</p></div>
<div class="listingblock">
<div class="title">GraphicsDevice</div>
<div class="content"><!-- Generator: GNU source-highlight 3.1.3
by Lorenzo Bettini
http://www.lorenzobettini.it
http://www.gnu.org/software/src-highlite -->
<pre><tt>Graphics<span style="color: #990000">::</span>Window<span style="color: #990000">*</span> GraphicsDevice<span style="color: #990000">::</span><span style="font-weight: bold"><span style="color: #000000">OpenWindow</span></span><span style="color: #990000">(</span>WindowSpecifications<span style="color: #990000">*</span> _pWindowSpecs<span style="color: #990000">);</span>
<span style="color: #009900">void</span> GraphicsDevice<span style="color: #990000">::</span><span style="font-weight: bold"><span style="color: #000000">CloseWindow</span></span><span style="color: #990000">();</span>

<span style="color: #009900">void</span> GraphicsDevice<span style="color: #990000">::</span><span style="font-weight: bold"><span style="color: #000000">SetViewport</span></span><span style="color: #990000">(</span><span style="color: #009900">int</span> _x<span style="color: #990000">,</span> <span style="color: #009900">int</span> _y<span style="color: #990000">,</span> <span style="color: #009900">int</span> _w<span style="color: #990000">,</span> <span style="color: #009900">int</span> _h<span style="color: #990000">);</span>
<span style="color: #009900">void</span> GraphicsDevice<span style="color: #990000">::</span><span style="font-weight: bold"><span style="color: #000000">SetProjection</span></span><span style="color: #990000">(</span>Math<span style="color: #990000">::</span>Mat4 <span style="color: #990000">*</span>_matrix<span style="color: #990000">);</span>
<span style="color: #009900">void</span> GraphicsDevice<span style="color: #990000">::</span><span style="font-weight: bold"><span style="color: #000000">SetModelView</span></span><span style="color: #990000">(</span>Math<span style="color: #990000">::</span>Mat4 <span style="color: #990000">*</span>_matrix<span style="color: #990000">);</span>
<span style="color: #009900">void</span> GraphicsDevice<span style="color: #990000">::</span><span style="font-weight: bold"><span style="color: #000000">Translate</span></span><span style="color: #990000">(</span>Math<span style="color: #990000">::</span>Vec3f _translate<span style="color: #990000">);</span>
<span style="color: #009900">void</span> GraphicsDevice<span style="color: #990000">::</span><span style="font-weight: bold"><span style="color: #000000">SwapBuffers</span></span><span style="color: #990000">();</span>

<span style="font-style: italic"><span style="color: #9A1900">// Texture</span></span>
Graphics<span style="color: #990000">::</span>Texture<span style="color: #990000">*</span> GraphicsDevice<span style="color: #990000">::</span><span style="font-weight: bold"><span style="color: #000000">CreateEmptyTexture</span></span><span style="color: #990000">(</span><span style="color: #009900">int</span> _Width<span style="color: #990000">,</span> <span style="color: #009900">int</span> _Height
                                                     <span style="color: #990000">,</span> TextureFormatStorage _Format <span style="color: #990000">=</span> TEX_FORMAT_RGBA<span style="color: #990000">);</span>
Graphics<span style="color: #990000">::</span>Texture<span style="color: #990000">*</span> GraphicsDevice<span style="color: #990000">::</span><span style="font-weight: bold"><span style="color: #000000">CreateTexture</span></span><span style="color: #990000">(</span><span style="font-weight: bold"><span style="color: #0000FF">const</span></span> <span style="color: #009900">char</span><span style="color: #990000">*</span> _filepath<span style="color: #990000">);</span>
Graphics<span style="color: #990000">::</span>Texture<span style="color: #990000">*</span> GraphicsDevice<span style="color: #990000">::</span><span style="font-weight: bold"><span style="color: #000000">CreateTexture</span></span><span style="color: #990000">(</span>Resource<span style="color: #990000">::</span>Image<span style="color: #990000">*</span> _Image<span style="color: #990000">);</span>
Graphics<span style="color: #990000">::</span>Texture<span style="color: #990000">*</span> GraphicsDevice<span style="color: #990000">::</span><span style="font-weight: bold"><span style="color: #000000">CreateTextureFromData</span></span><span style="color: #990000">(</span><span style="font-weight: bold"><span style="color: #0000FF">const</span></span> <span style="color: #009900">unsigned</span> <span style="color: #009900">char</span><span style="color: #990000">*</span> _datachunk<span style="color: #990000">,</span> <span style="color: #009900">int</span> _width
                                                        <span style="color: #990000">,</span> <span style="color: #009900">int</span> _height<span style="color: #990000">,</span> <span style="color: #009900">int</span> _channels<span style="color: #990000">);</span>
Graphics<span style="color: #990000">::</span>Texture<span style="color: #990000">*</span> GraphicsDevice<span style="color: #990000">::</span><span style="font-weight: bold"><span style="color: #000000">BindTexture</span></span><span style="color: #990000">(</span>Texture<span style="color: #990000">*</span> _texture<span style="color: #990000">);</span>
Graphics<span style="color: #990000">::</span>Texture<span style="color: #990000">*</span> GraphicsDevice<span style="color: #990000">::</span><span style="font-weight: bold"><span style="color: #000000">BindTexture</span></span><span style="color: #990000">(</span>Texture<span style="color: #990000">*</span> _texture
                                              <span style="color: #990000">,</span> <span style="color: #009900">unsigned</span> <span style="color: #009900">int</span> _texture_unit<span style="color: #990000">);</span>
<span style="color: #009900">void</span> GraphicsDevice<span style="color: #990000">::</span><span style="font-weight: bold"><span style="color: #000000">DestroyTexture</span></span><span style="color: #990000">(</span>Texture<span style="color: #990000">*</span> _texture<span style="color: #990000">);</span>

Graphics<span style="color: #990000">::</span>Texture<span style="color: #990000">*</span> GraphicsDevice<span style="color: #990000">::</span><span style="font-weight: bold"><span style="color: #000000">CreateTextureFromFramebuffer</span></span><span style="color: #990000">();</span>
Resource<span style="color: #990000">::</span>Image<span style="color: #990000">*</span> GraphicsDevice<span style="color: #990000">::</span><span style="font-weight: bold"><span style="color: #000000">CreateImageFromTexture</span></span><span style="color: #990000">(</span>Texture<span style="color: #990000">*</span> _texture<span style="color: #990000">);</span>

Graphics<span style="color: #990000">::</span>VertexBuffer<span style="color: #990000">*</span> GraphicsDevice<span style="color: #990000">::</span><span style="font-weight: bold"><span style="color: #000000">CreateVertexBuffer</span></span><span style="color: #990000">(</span>VertexBufferLocation _VertexBufferLocation
                                                          <span style="color: #990000">,</span> VertexBufferUsageFlag _VertexBufferUsageFlag<span style="color: #990000">);</span>
<span style="color: #009900">void</span> GraphicsDevice<span style="color: #990000">::</span><span style="font-weight: bold"><span style="color: #000000">DestroyVertexBuffer</span></span><span style="color: #990000">(</span>VertexBuffer<span style="color: #990000">*</span> _pVertexBuffer<span style="color: #990000">);</span>
<span style="color: #009900">void</span> GraphicsDevice<span style="color: #990000">::</span><span style="font-weight: bold"><span style="color: #000000">DrawBuffer</span></span><span style="color: #990000">(</span>VertexBuffer<span style="color: #990000">*</span> _pVertexBuffer<span style="color: #990000">,</span> <span style="color: #009900">unsigned</span> _VertexCount<span style="color: #990000">);</span>

<span style="font-style: italic"><span style="color: #9A1900">// Model</span></span>
Graphics<span style="color: #990000">::</span>Model<span style="color: #990000">*</span> GraphicsDevice<span style="color: #990000">::</span><span style="font-weight: bold"><span style="color: #000000">CreateModel</span></span><span style="color: #990000">(</span><span style="font-weight: bold"><span style="color: #0000FF">const</span></span> <span style="color: #009900">char</span><span style="color: #990000">*</span> _FilePath<span style="color: #990000">);</span>
Graphics<span style="color: #990000">::</span>Model<span style="color: #990000">*</span> GraphicsDevice<span style="color: #990000">::</span><span style="font-weight: bold"><span style="color: #000000">CreateModel</span></span><span style="color: #990000">(</span>Resource<span style="color: #990000">::</span>Mesh<span style="color: #990000">*</span> _Mesh<span style="color: #990000">);</span>

<span style="font-style: italic"><span style="color: #9A1900">// Buffers</span></span>
Graphics<span style="color: #990000">::</span>RenderBuffer<span style="color: #990000">*</span> GraphicsDevice<span style="color: #990000">::</span><span style="font-weight: bold"><span style="color: #000000">CreateRenderBuffer</span></span><span style="color: #990000">(</span><span style="color: #009900">unsigned</span> _Format<span style="color: #990000">,</span> <span style="color: #009900">unsigned</span> _Width<span style="color: #990000">,</span> <span style="color: #009900">unsigned</span> _Height<span style="color: #990000">);</span>
<span style="color: #009900">void</span> GraphicsDevice<span style="color: #990000">::</span><span style="font-weight: bold"><span style="color: #000000">DestroyRenderBuffer</span></span><span style="color: #990000">(</span>RenderBuffer<span style="color: #990000">*</span> _pRenderBuffer<span style="color: #990000">);</span>
<span style="color: #009900">void</span> GraphicsDevice<span style="color: #990000">::</span><span style="font-weight: bold"><span style="color: #000000">BindRenderBuffer</span></span><span style="color: #990000">(</span>RenderBuffer<span style="color: #990000">*</span> _pRenderBuffer<span style="color: #990000">);</span>
<span style="color: #009900">void</span> GraphicsDevice<span style="color: #990000">::</span><span style="font-weight: bold"><span style="color: #000000">UnbindRenderBuffer</span></span><span style="color: #990000">();</span>

Graphics<span style="color: #990000">::</span>FrameBufferObject<span style="color: #990000">*</span> GraphicsDevice<span style="color: #990000">::</span><span style="font-weight: bold"><span style="color: #000000">CreateFrameBufferObject</span></span><span style="color: #990000">();</span>
<span style="color: #009900">void</span> GraphicsDevice<span style="color: #990000">::</span><span style="font-weight: bold"><span style="color: #000000">DestroyFrameBufferObject</span></span><span style="color: #990000">(</span>FrameBufferObject<span style="color: #990000">*</span> _pFrameBufferObject<span style="color: #990000">);</span>
Graphics<span style="color: #990000">::</span>FrameBufferObject<span style="color: #990000">*</span> GraphicsDevice<span style="color: #990000">::</span><span style="font-weight: bold"><span style="color: #000000">BindFrameBufferObject</span></span><span style="color: #990000">(</span>FrameBufferObject<span style="color: #990000">*</span> _pFrameBufferObject<span style="color: #990000">);</span>
<span style="color: #009900">void</span> GraphicsDevice<span style="color: #990000">::</span><span style="font-weight: bold"><span style="color: #000000">UnbindFrameBufferObject</span></span><span style="color: #990000">();</span>

Graphics<span style="color: #990000">::</span>Shader<span style="color: #990000">*</span> GraphicsDevice<span style="color: #990000">::</span><span style="font-weight: bold"><span style="color: #000000">CreateShader</span></span><span style="color: #990000">(</span><span style="font-weight: bold"><span style="color: #0000FF">const</span></span> <span style="color: #009900">char</span><span style="color: #990000">*</span> _Ident<span style="color: #990000">,</span> <span style="font-weight: bold"><span style="color: #0000FF">const</span></span> <span style="color: #009900">char</span><span style="color: #990000">*</span> _VertexShader<span style="color: #990000">,</span> <span style="font-weight: bold"><span style="color: #0000FF">const</span></span> <span style="color: #009900">char</span><span style="color: #990000">*</span> _FragmentShader<span style="color: #990000">);</span>
<span style="color: #009900">void</span> GraphicsDevice<span style="color: #990000">::</span><span style="font-weight: bold"><span style="color: #000000">DestroyShader</span></span><span style="color: #990000">(</span>Shader<span style="color: #990000">*</span> _Shader<span style="color: #990000">);</span>
Graphics<span style="color: #990000">::</span>Shader<span style="color: #990000">*</span> GraphicsDevice<span style="color: #990000">::</span><span style="font-weight: bold"><span style="color: #000000">BindShader</span></span><span style="color: #990000">(</span>Shader<span style="color: #990000">*</span> _Shader<span style="color: #990000">);</span>
<span style="color: #009900">void</span> GraphicsDevice<span style="color: #990000">::</span><span style="font-weight: bold"><span style="color: #000000">SetUniformi</span></span><span style="color: #990000">(</span>Shader<span style="color: #990000">*</span> _Shader<span style="color: #990000">,</span> <span style="font-weight: bold"><span style="color: #0000FF">const</span></span> <span style="color: #009900">char</span><span style="color: #990000">*</span> _name<span style="color: #990000">,</span> <span style="color: #009900">int</span> _value<span style="color: #990000">);</span>
<span style="color: #009900">void</span> GraphicsDevice<span style="color: #990000">::</span><span style="font-weight: bold"><span style="color: #000000">SetUniformf</span></span><span style="color: #990000">(</span>Shader<span style="color: #990000">*</span> _Shader<span style="color: #990000">,</span> <span style="font-weight: bold"><span style="color: #0000FF">const</span></span> <span style="color: #009900">char</span><span style="color: #990000">*</span> _name<span style="color: #990000">,</span> <span style="color: #009900">float</span> _value<span style="color: #990000">);</span>
<span style="color: #009900">void</span> GraphicsDevice<span style="color: #990000">::</span><span style="font-weight: bold"><span style="color: #000000">SetUniformVec2</span></span><span style="color: #990000">(</span>Shader<span style="color: #990000">*</span> _Shader<span style="color: #990000">,</span> <span style="font-weight: bold"><span style="color: #0000FF">const</span></span> <span style="color: #009900">char</span><span style="color: #990000">*</span> _name<span style="color: #990000">,</span> <span style="font-weight: bold"><span style="color: #0000FF">const</span></span> Math<span style="color: #990000">::</span>Vec2f<span style="color: #990000">*</span> _value<span style="color: #990000">);</span>
<span style="color: #009900">void</span> GraphicsDevice<span style="color: #990000">::</span><span style="font-weight: bold"><span style="color: #000000">SetUniformVec3</span></span><span style="color: #990000">(</span>Shader<span style="color: #990000">*</span> _Shader<span style="color: #990000">,</span> <span style="font-weight: bold"><span style="color: #0000FF">const</span></span> <span style="color: #009900">char</span><span style="color: #990000">*</span> _name<span style="color: #990000">,</span> <span style="font-weight: bold"><span style="color: #0000FF">const</span></span> Math<span style="color: #990000">::</span>Vec3f<span style="color: #990000">*</span> _value<span style="color: #990000">);</span>
<span style="color: #009900">void</span> GraphicsDevice<span style="color: #990000">::</span><span style="font-weight: bold"><span style="color: #000000">SetUniformVec3v</span></span><span style="color: #990000">(</span>Shader<span style="color: #990000">*</span> _Shader<span style="color: #990000">,</span> <span style="font-weight: bold"><span style="color: #0000FF">const</span></span> <span style="color: #009900">char</span><span style="color: #990000">*</span> _name<span style="color: #990000">,</span> <span style="color: #009900">unsigned</span> count<span style="color: #990000">,</span> <span style="font-weight: bold"><span style="color: #0000FF">const</span></span> Math<span style="color: #990000">::</span>Vec3f<span style="color: #990000">*</span> _value<span style="color: #990000">);</span>
<span style="color: #009900">void</span> GraphicsDevice<span style="color: #990000">::</span><span style="font-weight: bold"><span style="color: #000000">SetUniformVec4</span></span><span style="color: #990000">(</span>Shader<span style="color: #990000">*</span> _Shader<span style="color: #990000">,</span> <span style="font-weight: bold"><span style="color: #0000FF">const</span></span> <span style="color: #009900">char</span><span style="color: #990000">*</span> _name<span style="color: #990000">,</span> <span style="font-weight: bold"><span style="color: #0000FF">const</span></span> Math<span style="color: #990000">::</span>Vec4f<span style="color: #990000">*</span> _value<span style="color: #990000">);</span>
<span style="color: #009900">void</span> GraphicsDevice<span style="color: #990000">::</span><span style="font-weight: bold"><span style="color: #000000">SetUniformVec4v</span></span><span style="color: #990000">(</span>Shader<span style="color: #990000">*</span> _Shader<span style="color: #990000">,</span> <span style="font-weight: bold"><span style="color: #0000FF">const</span></span> <span style="color: #009900">char</span><span style="color: #990000">*</span> _name<span style="color: #990000">,</span> <span style="color: #009900">unsigned</span> count<span style="color: #990000">,</span> <span style="font-weight: bold"><span style="color: #0000FF">const</span></span> Math<span style="color: #990000">::</span>Vec4f<span style="color: #990000">*</span> _value<span style="color: #990000">);</span>
<span style="color: #009900">void</span> GraphicsDevice<span style="color: #990000">::</span><span style="font-weight: bold"><span style="color: #000000">SetUniformMat4</span></span><span style="color: #990000">(</span>Shader<span style="color: #990000">*</span> _Shader<span style="color: #990000">,</span> <span style="font-weight: bold"><span style="color: #0000FF">const</span></span> <span style="color: #009900">char</span><span style="color: #990000">*</span> _name<span style="color: #990000">,</span> <span style="font-weight: bold"><span style="color: #0000FF">const</span></span> Math<span style="color: #990000">::</span>Mat4<span style="color: #990000">*</span> _value<span style="color: #990000">);</span></tt></pre></div></div>
<div class="listingblock">
<div class="title">WindowSpecifications</div>
<div class="content"><!-- Generator: GNU source-highlight 3.1.3
by Lorenzo Bettini
http://www.lorenzobettini.it
http://www.gnu.org/software/src-highlite -->
<pre><tt><span style="font-weight: bold"><span style="color: #0000FF">struct</span></span> <span style="color: #008080">WindowSpecifications</span>
<span style="color: #FF0000">{</span>
    <span style="color: #009900">int</span> Width<span style="color: #990000">;</span>
    <span style="color: #009900">int</span> Height<span style="color: #990000">;</span>
    <span style="color: #009900">int</span> ColorBits<span style="color: #990000">;</span>
    <span style="color: #009900">int</span> AlphaBits<span style="color: #990000">;</span>
    <span style="color: #009900">int</span> DepthBits<span style="color: #990000">;</span>
    <span style="color: #009900">int</span> StencilBits<span style="color: #990000">;</span>
    <span style="color: #009900">int</span> FSAASamples<span style="color: #990000">;</span>
    <span style="color: #009900">bool</span> Fullscreen<span style="color: #990000">;</span>
    <span style="color: #009900">bool</span> Resizeable<span style="color: #990000">;</span>
    <span style="color: #009900">bool</span> VerticalSync<span style="color: #990000">;</span>
<span style="color: #FF0000">}</span><span style="color: #990000">;</span></tt></pre></div></div>
<div class="listingblock">
<div class="title">Window</div>
<div class="content"><!-- Generator: GNU source-highlight 3.1.3
by Lorenzo Bettini
http://www.lorenzobettini.it
http://www.gnu.org/software/src-highlite -->
<pre><tt><span style="font-weight: bold"><span style="color: #0000FF">typedef</span></span> <span style="color: #009900">void</span><span style="color: #990000">(*</span>WindowSizeCallback<span style="color: #990000">)(</span><span style="color: #009900">int</span> _Width<span style="color: #990000">,</span> <span style="color: #009900">int</span> _Height<span style="color: #990000">);</span>

<span style="color: #009900">bool</span> Window<span style="color: #990000">::</span><span style="font-weight: bold"><span style="color: #000000">Open</span></span><span style="color: #990000">();</span>
<span style="color: #009900">bool</span> Window<span style="color: #990000">::</span><span style="font-weight: bold"><span style="color: #000000">Close</span></span><span style="color: #990000">();</span>
<span style="color: #009900">void</span> Window<span style="color: #990000">::</span><span style="font-weight: bold"><span style="color: #000000">Swap</span></span><span style="color: #990000">();</span>

<span style="color: #009900">void</span> Window<span style="color: #990000">::</span><span style="font-weight: bold"><span style="color: #000000">SetResizeCallback</span></span><span style="color: #990000">(</span><span style="color: #008080">WindowSizeCallback</span> fun<span style="color: #990000">);</span>
<span style="color: #009900">void</span> Window<span style="color: #990000">::</span><span style="font-weight: bold"><span style="color: #000000">SetTitle</span></span><span style="color: #990000">(</span><span style="font-weight: bold"><span style="color: #0000FF">const</span></span> <span style="color: #009900">char</span> <span style="color: #990000">*</span>_title<span style="color: #990000">);</span>

<span style="color: #009900">int</span> Window<span style="color: #990000">::</span><span style="font-weight: bold"><span style="color: #000000">GetFPS</span></span><span style="color: #990000">();</span>
<span style="color: #009900">int</span> Window<span style="color: #990000">::</span><span style="font-weight: bold"><span style="color: #000000">GetWidth</span></span><span style="color: #990000">();</span>
<span style="color: #009900">int</span> Window<span style="color: #990000">::</span><span style="font-weight: bold"><span style="color: #000000">GetHeight</span></span><span style="color: #990000">();</span>
<span style="color: #009900">float</span> Window<span style="color: #990000">::</span><span style="font-weight: bold"><span style="color: #000000">GetAspectRatio</span></span><span style="color: #990000">();</span>

<span style="color: #009900">bool</span> Window<span style="color: #990000">::</span><span style="font-weight: bold"><span style="color: #000000">IsOpen</span></span><span style="color: #990000">();</span></tt></pre></div></div>
<div class="listingblock">
<div class="title">Vertex Buffer</div>
<div class="content"><!-- Generator: GNU source-highlight 3.1.3
by Lorenzo Bettini
http://www.lorenzobettini.it
http://www.gnu.org/software/src-highlite -->
<pre><tt><span style="font-style: italic"><span style="color: #9A1900">/**</span></span>
<span style="font-style: italic"><span style="color: #9A1900"> * VertexBuffer location types</span></span>
<span style="font-style: italic"><span style="color: #9A1900"> * VB_LOCATION_SYS is stored in system memory</span></span>
<span style="font-style: italic"><span style="color: #9A1900"> * VB_LOCATION_GPU is stored in GPU memory</span></span>
<span style="font-style: italic"><span style="color: #9A1900"> */</span></span>
<span style="font-weight: bold"><span style="color: #0000FF">enum</span></span> VertexBufferLocation
<span style="color: #FF0000">{</span>
    VB_LOCATION_SYS<span style="color: #990000">,</span>
    VB_LOCATION_GPU
<span style="color: #FF0000">}</span><span style="color: #990000">;</span>

<span style="font-style: italic"><span style="color: #9A1900">/**</span></span>
<span style="font-style: italic"><span style="color: #9A1900"> * VertexBuffer attributes</span></span>
<span style="font-style: italic"><span style="color: #9A1900"> */</span></span>
<span style="font-weight: bold"><span style="color: #0000FF">enum</span></span> VertexBufferAttribute
<span style="color: #FF0000">{</span>
    VB_VERTEX_DATA <span style="color: #990000">=</span> <span style="color: #993399">1</span><span style="color: #990000">,</span>
    VB_NORMAL_DATA <span style="color: #990000">=</span> <span style="color: #993399">2</span><span style="color: #990000">,</span>
    VB_TEXCOORD_DATA <span style="color: #990000">=</span> <span style="color: #993399">4</span><span style="color: #990000">,</span>
    VB_COLOR_DATA <span style="color: #990000">=</span> <span style="color: #993399">8</span><span style="color: #990000">,</span>
    VB_INDEX_DATA <span style="color: #990000">=</span> <span style="color: #993399">16</span><span style="color: #990000">,</span>
    VB_EDGEFLAG_DATA <span style="color: #990000">=</span> <span style="color: #993399">32</span><span style="color: #990000">,</span>
<span style="color: #FF0000">}</span><span style="color: #990000">;</span>

<span style="font-style: italic"><span style="color: #9A1900">/**</span></span>
<span style="font-style: italic"><span style="color: #9A1900"> * Vertex buffer usage flags (used for GPU located memory)</span></span>
<span style="font-style: italic"><span style="color: #9A1900"> */</span></span>

<span style="font-weight: bold"><span style="color: #0000FF">enum</span></span> VertexBufferUsageFlag
<span style="color: #FF0000">{</span>
    VB_USAGE_STATIC_DRAW <span style="color: #990000">=</span> <span style="color: #993399">1</span><span style="color: #990000">,</span>
    VB_USAGE_STATIC_READ <span style="color: #990000">=</span> <span style="color: #993399">2</span><span style="color: #990000">,</span>
    VB_USAGE_STATIC_COPY <span style="color: #990000">=</span> <span style="color: #993399">4</span><span style="color: #990000">,</span>
    VB_USAGE_DYNAMIC_DRAW <span style="color: #990000">=</span> <span style="color: #993399">8</span><span style="color: #990000">,</span>
    VB_USAGE_DYNAMIC_READ <span style="color: #990000">=</span> <span style="color: #993399">16</span><span style="color: #990000">,</span>
    VB_USAGE_DYNAMIC_COPY <span style="color: #990000">=</span> <span style="color: #993399">32</span><span style="color: #990000">,</span>
    VB_USAGE_STREAM_DRAW <span style="color: #990000">=</span> <span style="color: #993399">64</span><span style="color: #990000">,</span>
    VB_USAGE_STREAM_READ <span style="color: #990000">=</span> <span style="color: #993399">128</span><span style="color: #990000">,</span>
    VB_USAGE_STREAM_COPY <span style="color: #990000">=</span> <span style="color: #993399">256</span>
<span style="color: #FF0000">}</span><span style="color: #990000">;</span>

<span style="font-style: italic"><span style="color: #9A1900">/**</span></span>
<span style="font-style: italic"><span style="color: #9A1900"> * Vertex buffer access flags, specifies what type of access when</span></span>
<span style="font-style: italic"><span style="color: #9A1900"> * mapping gpu memory data.</span></span>
<span style="font-style: italic"><span style="color: #9A1900"> */</span></span>
<span style="font-weight: bold"><span style="color: #0000FF">enum</span></span> VertexBufferAccessFlag
<span style="color: #FF0000">{</span>
    VB_ACCESS_READ_ONLY <span style="color: #990000">=</span> <span style="color: #993399">1</span><span style="color: #990000">,</span>
    VB_ACCESS_WRITE_ONLY <span style="color: #990000">=</span> <span style="color: #993399">2</span><span style="color: #990000">,</span>
    VB_ACCESS_READ_WRITE <span style="color: #990000">=</span> <span style="color: #993399">4</span>
<span style="color: #FF0000">}</span><span style="color: #990000">;</span>

<span style="font-weight: bold"><span style="color: #0000FF">enum</span></span> VertexBufferPrimitiveType <span style="color: #FF0000">{</span>
    VB_PRIMITIVE_NONE   <span style="color: #990000">=</span> <span style="color: #993399">0</span><span style="color: #990000">,</span>
    VB_PRIMITIVE_POINTS <span style="color: #990000">=</span> <span style="color: #993399">1</span><span style="color: #990000">,</span>
    VB_PRIMITIVE_LINES<span style="color: #990000">,</span>
    VB_PRIMITIVE_LINE_LOOP<span style="color: #990000">,</span>
    VB_PRIMITIVE_LINE_STRIP<span style="color: #990000">,</span>
    VB_PRIMITIVE_TRIANGLES<span style="color: #990000">,</span>
    VB_PRIMITIVE_TRIANGLE_STRIP<span style="color: #990000">,</span>
    VB_PRIMITIVE_TRIANGLE_FAN<span style="color: #990000">,</span>
    VB_PRIMITIVE_QUADS<span style="color: #990000">,</span>
    VB_PRIMITIVE_QUAD_STRIP
<span style="color: #FF0000">}</span><span style="color: #990000">;</span></tt></pre></div></div>
<div class="listingblock">
<div class="content"><!-- Generator: GNU source-highlight 3.1.3
by Lorenzo Bettini
http://www.lorenzobettini.it
http://www.gnu.org/software/src-highlite -->
<pre><tt><span style="color: #009900">void</span>   VertexBuffer<span style="color: #990000">::</span><span style="font-weight: bold"><span style="color: #000000">CreateNewBuffer</span></span><span style="color: #990000">(</span>uint32 _NumVertices<span style="color: #990000">,</span> uint32 _VertexSize<span style="color: #990000">);</span>
<span style="color: #009900">void</span>   VertexBuffer<span style="color: #990000">::</span><span style="font-weight: bold"><span style="color: #000000">CreateFromBuffer</span></span><span style="color: #990000">(</span><span style="color: #009900">void</span><span style="color: #990000">*</span> _Buffer<span style="color: #990000">,</span>uint32 _NumVertices<span style="color: #990000">,</span> uint32 _VertexSize<span style="color: #990000">);</span>
<span style="color: #009900">void</span>   VertexBuffer<span style="color: #990000">::</span><span style="font-weight: bold"><span style="color: #000000">UpdateData</span></span><span style="color: #990000">(</span><span style="color: #009900">void</span><span style="color: #990000">*</span> _Buffer<span style="color: #990000">,</span> uint32 _Count<span style="color: #990000">,</span> uint32 _Offset<span style="color: #990000">);</span>
<span style="color: #009900">void</span><span style="color: #990000">*</span>  VertexBuffer<span style="color: #990000">::</span><span style="font-weight: bold"><span style="color: #000000">MapData</span></span><span style="color: #990000">(</span>VertexBufferAccessFlag _AccessFlag<span style="color: #990000">);</span>
<span style="color: #009900">void</span>   VertexBuffer<span style="color: #990000">::</span><span style="font-weight: bold"><span style="color: #000000">UnmapData</span></span><span style="color: #990000">();</span>
<span style="color: #009900">void</span>   VertexBuffer<span style="color: #990000">::</span><span style="font-weight: bold"><span style="color: #000000">SetData</span></span><span style="color: #990000">(</span>VertexBufferAttribute _AttribType<span style="color: #990000">,</span> uint8 _StrideOffset<span style="color: #990000">,</span> uint8 _NumComponents<span style="color: #990000">);</span>
<span style="color: #008080">uint8</span>  VertexBuffer<span style="color: #990000">::</span><span style="font-weight: bold"><span style="color: #000000">GetStrideOffset</span></span><span style="color: #990000">(</span>VertexBufferAttribute _AttribType<span style="color: #990000">);</span>
<span style="color: #008080">uint8</span>  VertexBuffer<span style="color: #990000">::</span><span style="font-weight: bold"><span style="color: #000000">GetTypeSize</span></span><span style="color: #990000">(</span>VertexBufferAttribute _AttribType<span style="color: #990000">);</span>
<span style="color: #008080">uint32</span> VertexBuffer<span style="color: #990000">::</span><span style="font-weight: bold"><span style="color: #000000">GetVertexCount</span></span><span style="color: #990000">()</span> <span style="font-weight: bold"><span style="color: #0000FF">const</span></span><span style="color: #990000">;</span>
<span style="color: #008080">uint32</span> VertexBuffer<span style="color: #990000">::</span><span style="font-weight: bold"><span style="color: #000000">GetByteCount</span></span><span style="color: #990000">()</span> <span style="font-weight: bold"><span style="color: #0000FF">const</span></span><span style="color: #990000">;</span>
<span style="color: #009900">void</span>   VertexBuffer<span style="color: #990000">::</span><span style="font-weight: bold"><span style="color: #000000">SetPrimitive</span></span><span style="color: #990000">(</span>VertexBufferPrimitiveType _PrimitiveType<span style="color: #990000">);</span>
<span style="color: #008080">VertexBufferPrimitiveType</span> VertexBuffer<span style="color: #990000">::</span><span style="font-weight: bold"><span style="color: #000000">GetPrimitive</span></span><span style="color: #990000">();</span></tt></pre></div></div>
<div class="listingblock">
<div class="title">Framebuffer</div>
<div class="content"><!-- Generator: GNU source-highlight 3.1.3
by Lorenzo Bettini
http://www.lorenzobettini.it
http://www.gnu.org/software/src-highlite -->
<pre><tt><span style="color: #009900">void</span> FramebufferObject<span style="color: #990000">::</span><span style="font-weight: bold"><span style="color: #000000">Attach</span></span><span style="color: #990000">(</span>Texture<span style="color: #990000">*</span> _Texture<span style="color: #990000">,</span> <span style="font-weight: bold"><span style="color: #0000FF">const</span></span> <span style="color: #009900">unsigned</span> _Attachment<span style="color: #990000">,</span> <span style="color: #009900">bool</span> _GenMipmaps<span style="color: #990000">)</span> <span style="color: #990000">=</span> <span style="color: #993399">0</span><span style="color: #990000">;</span>
<span style="color: #009900">void</span> FramebufferObject<span style="color: #990000">::</span><span style="font-weight: bold"><span style="color: #000000">Attach</span></span><span style="color: #990000">(</span>RenderBuffer<span style="color: #990000">*</span> _Buffer<span style="color: #990000">,</span> <span style="font-weight: bold"><span style="color: #0000FF">const</span></span> <span style="color: #009900">unsigned</span> _Attachment<span style="color: #990000">)</span> <span style="color: #990000">=</span> <span style="color: #993399">0</span><span style="color: #990000">;</span>
<span style="color: #009900">void</span> FramebufferObject<span style="color: #990000">::</span><span style="font-weight: bold"><span style="color: #000000">Detach</span></span><span style="color: #990000">(</span><span style="font-weight: bold"><span style="color: #0000FF">const</span></span> <span style="color: #009900">unsigned</span> _Attachment<span style="color: #990000">)</span> <span style="color: #990000">=</span> <span style="color: #993399">0</span><span style="color: #990000">;</span>
<span style="color: #009900">void</span> FramebufferObject<span style="color: #990000">::</span><span style="font-weight: bold"><span style="color: #000000">DetachAll</span></span><span style="color: #990000">()</span> <span style="color: #990000">=</span> <span style="color: #993399">0</span><span style="color: #990000">;</span>
<span style="color: #009900">int</span>  FramebufferObject<span style="color: #990000">::</span><span style="font-weight: bold"><span style="color: #000000">GetNumColorAttachment</span></span><span style="color: #990000">()</span> <span style="color: #FF0000">{</span> <span style="font-weight: bold"><span style="color: #0000FF">return</span></span> m_NumColorAttachment<span style="color: #990000">;</span> <span style="color: #FF0000">}</span>
<span style="color: #009900">bool</span> FramebufferObject<span style="color: #990000">::</span><span style="font-weight: bold"><span style="color: #000000">GetUseDepthAttachment</span></span><span style="color: #990000">()</span> <span style="color: #FF0000">{</span> <span style="font-weight: bold"><span style="color: #0000FF">return</span></span> m_UseDepthAttachment<span style="color: #990000">;</span> <span style="color: #FF0000">}</span>
<span style="color: #009900">bool</span> FramebufferObject<span style="color: #990000">::</span><span style="font-weight: bold"><span style="color: #000000">GetUseStencilAttachment</span></span><span style="color: #990000">()</span> <span style="color: #FF0000">{</span> <span style="font-weight: bold"><span style="color: #0000FF">return</span></span> m_UseStencilAttachment<span style="color: #990000">;</span> <span style="color: #FF0000">}</span>
<span style="color: #009900">bool</span> FramebufferObject<span style="color: #990000">::</span><span style="font-weight: bold"><span style="color: #000000">IsComplete</span></span><span style="color: #990000">()</span> <span style="color: #FF0000">{</span> <span style="font-weight: bold"><span style="color: #0000FF">return</span></span> m_Complete<span style="color: #990000">;</span> <span style="color: #FF0000">}</span></tt></pre></div></div>
<div class="listingblock">
<div class="title">Renderbuffer</div>
<div class="content"><!-- Generator: GNU source-highlight 3.1.3
by Lorenzo Bettini
http://www.lorenzobettini.it
http://www.gnu.org/software/src-highlite -->
<pre><tt><span style="color: #009900">int</span>  RenderBuffer<span style="color: #990000">::</span><span style="font-weight: bold"><span style="color: #000000">GetWidth</span></span><span style="color: #990000">();</span>
<span style="color: #009900">int</span>  RenderBuffer<span style="color: #990000">::</span><span style="font-weight: bold"><span style="color: #000000">GetHeight</span></span><span style="color: #990000">();</span>
<span style="color: #009900">bool</span> RenderBuffer<span style="color: #990000">::</span><span style="font-weight: bold"><span style="color: #000000">Ready</span></span><span style="color: #990000">();</span></tt></pre></div></div>
<div class="listingblock">
<div class="title">Texture</div>
<div class="content"><!-- Generator: GNU source-highlight 3.1.3
by Lorenzo Bettini
http://www.lorenzobettini.it
http://www.gnu.org/software/src-highlite -->
<pre><tt><span style="font-weight: bold"><span style="color: #0000FF">enum</span></span> TextureFilter
<span style="color: #FF0000">{</span>
    <span style="font-style: italic"><span style="color: #9A1900">// valid for min &amp; mag</span></span>
    TEX_FILTER_NEAREST <span style="color: #990000">=</span> <span style="color: #993399">0</span><span style="color: #990000">,</span>
    TEX_FILTER_LINEAR<span style="color: #990000">,</span>

    <span style="font-style: italic"><span style="color: #9A1900">// valid only for min, obviously.</span></span>
    TEX_FILTER_LINEAR_MIPMAP_LINEAR<span style="color: #990000">,</span>
    TEX_FILTER_LINEAR_MIPMAP_NEAREST<span style="color: #990000">,</span>
    TEX_FILTER_NEAREST_MIPMAP_LINEAR<span style="color: #990000">,</span>
    TEX_FILTER_NEAREST_MIPMAP_NEAREST
<span style="color: #FF0000">}</span><span style="color: #990000">;</span>

<span style="font-weight: bold"><span style="color: #0000FF">enum</span></span> TextureClampMethod
<span style="color: #FF0000">{</span>
    TEX_CLAMP<span style="color: #990000">,</span>
    TEX_CLAMP_TO_EDGE<span style="color: #990000">,</span>
    TEX_REPEAT
<span style="color: #FF0000">}</span><span style="color: #990000">;</span>

<span style="font-weight: bold"><span style="color: #0000FF">enum</span></span> TextureFormatStorage
<span style="color: #FF0000">{</span>
    TEX_FORMAT_RGB<span style="color: #990000">,</span>
    TEX_FORMAT_RGBA<span style="color: #990000">,</span>
    TEX_FORMAT_R<span style="color: #990000">,</span>
    TEX_FORMAT_G<span style="color: #990000">,</span>
    TEX_FORMAT_B<span style="color: #990000">,</span>
    TEX_FORMAT_A
<span style="color: #FF0000">}</span><span style="color: #990000">;</span></tt></pre></div></div>
<div class="listingblock">
<div class="content"><!-- Generator: GNU source-highlight 3.1.3
by Lorenzo Bettini
http://www.lorenzobettini.it
http://www.gnu.org/software/src-highlite -->
<pre><tt><span style="color: #009900">void</span> Texture<span style="color: #990000">::</span><span style="font-weight: bold"><span style="color: #000000">Load</span></span><span style="color: #990000">(</span><span style="font-weight: bold"><span style="color: #0000FF">const</span></span> <span style="color: #009900">char</span><span style="color: #990000">*</span> _filepath<span style="color: #990000">)</span> <span style="color: #990000">=</span> <span style="color: #993399">0</span><span style="color: #990000">;</span>
<span style="color: #009900">void</span> Texture<span style="color: #990000">::</span><span style="font-weight: bold"><span style="color: #000000">LoadData</span></span><span style="color: #990000">(</span><span style="font-weight: bold"><span style="color: #0000FF">const</span></span> <span style="color: #009900">unsigned</span> <span style="color: #009900">char</span><span style="color: #990000">*</span> _datachunk<span style="color: #990000">,</span> <span style="color: #009900">int</span> _width<span style="color: #990000">,</span> <span style="color: #009900">int</span> _height<span style="color: #990000">,</span> <span style="color: #009900">int</span> _channels<span style="color: #990000">);</span>
<span style="color: #009900">void</span> Texture<span style="color: #990000">::</span><span style="font-weight: bold"><span style="color: #000000">Unload</span></span><span style="color: #990000">();</span>
<span style="color: #009900">void</span> Texture<span style="color: #990000">::</span><span style="font-weight: bold"><span style="color: #000000">Reload</span></span><span style="color: #990000">();</span>
<span style="color: #009900">int</span> Texture<span style="color: #990000">::</span><span style="font-weight: bold"><span style="color: #000000">GetWidth</span></span><span style="color: #990000">();</span>
<span style="color: #009900">int</span> Texture<span style="color: #990000">::</span><span style="font-weight: bold"><span style="color: #000000">GetHeight</span></span><span style="color: #990000">();</span>
<span style="color: #009900">int</span> Texture<span style="color: #990000">::</span><span style="font-weight: bold"><span style="color: #000000">GetChannels</span></span><span style="color: #990000">();</span>
<span style="color: #009900">void</span> Texture<span style="color: #990000">::</span><span style="font-weight: bold"><span style="color: #000000">SetMagFilter</span></span><span style="color: #990000">(</span>TextureFilter _Filter<span style="color: #990000">);</span>
<span style="color: #009900">void</span> Texture<span style="color: #990000">::</span><span style="font-weight: bold"><span style="color: #000000">SetMinFilter</span></span><span style="color: #990000">(</span>TextureFilter _Filter<span style="color: #990000">);</span>
<span style="color: #009900">void</span> Texture<span style="color: #990000">::</span><span style="font-weight: bold"><span style="color: #000000">SetClampMethod</span></span><span style="color: #990000">(</span>TextureClampMethod _Method<span style="color: #990000">);</span>
<span style="color: #009900">unsigned</span> <span style="color: #009900">int</span> Texture<span style="color: #990000">::</span><span style="font-weight: bold"><span style="color: #000000">GetTextureID</span></span><span style="color: #990000">();</span>
Math<span style="color: #990000">::</span><span style="color: #008080">Vec4f</span> Texture<span style="color: #990000">::</span><span style="font-weight: bold"><span style="color: #000000">CreateTextureSubset</span></span><span style="color: #990000">(</span><span style="color: #009900">float</span> _x1<span style="color: #990000">,</span> <span style="color: #009900">float</span> _y1<span style="color: #990000">,</span> <span style="color: #009900">float</span> _x2<span style="color: #990000">,</span> <span style="color: #009900">float</span> _y2<span style="color: #990000">);</span></tt></pre></div></div>
<div class="listingblock">
<div class="title">Shader</div>
<div class="content"><!-- Generator: GNU source-highlight 3.1.3
by Lorenzo Bettini
http://www.lorenzobettini.it
http://www.gnu.org/software/src-highlite -->
<pre><tt><span style="color: #009900">bool</span> Shader<span style="color: #990000">::</span><span style="font-weight: bold"><span style="color: #000000">IsValid</span></span><span style="color: #990000">();</span></tt></pre></div></div>
</div>
</div>
<div class="sect1">
<h2 id="_input">Input</h2>
<div class="sectionbody">
<div class="paragraph"><p>The input system is rather simple. The first thing that must be done before you can get any input is to call</p></div>
<div class="listingblock">
<div class="content"><!-- Generator: GNU source-highlight 3.1.3
by Lorenzo Bettini
http://www.lorenzobettini.it
http://www.gnu.org/software/src-highlite -->
<pre><tt><span style="color: #009900">void</span> InputDevice<span style="color: #990000">::</span><span style="font-weight: bold"><span style="color: #000000">Update</span></span><span style="color: #990000">();</span></tt></pre></div></div>
<div class="paragraph"><p>This should be done at least once per frame.</p></div>
<div class="sect2">
<h3 id="_keyboard_input">Keyboard input</h3>
<div class="paragraph"><p>Returns true if the key is down</p></div>
<div class="listingblock">
<div class="content"><!-- Generator: GNU source-highlight 3.1.3
by Lorenzo Bettini
http://www.lorenzobettini.it
http://www.gnu.org/software/src-highlite -->
<pre><tt><span style="color: #009900">bool</span> InputDevice<span style="color: #990000">::</span><span style="font-weight: bold"><span style="color: #000000">IsKeyDown</span></span><span style="color: #990000">(</span><span style="color: #009900">int</span> _key<span style="color: #990000">);</span></tt></pre></div></div>
<div class="paragraph"><p>When a key is pressed, it&#8217;s stored internally within the input device
The key and char value can be fetched with the following methods</p></div>
<div class="listingblock">
<div class="content"><!-- Generator: GNU source-highlight 3.1.3
by Lorenzo Bettini
http://www.lorenzobettini.it
http://www.gnu.org/software/src-highlite -->
<pre><tt><span style="color: #009900">int</span> InputDevice<span style="color: #990000">::</span><span style="font-weight: bold"><span style="color: #000000">GetLastKey</span></span><span style="color: #990000">();</span>
<span style="color: #009900">int</span> InputDevice<span style="color: #990000">::</span><span style="font-weight: bold"><span style="color: #000000">GetLastChar</span></span><span style="color: #990000">();</span></tt></pre></div></div>
<div class="paragraph"><p>You have to manually reset these after each frame, or when you are done with them</p></div>
<div class="listingblock">
<div class="content"><!-- Generator: GNU source-highlight 3.1.3
by Lorenzo Bettini
http://www.lorenzobettini.it
http://www.gnu.org/software/src-highlite -->
<pre><tt><span style="color: #009900">void</span> InputDevice<span style="color: #990000">::</span><span style="font-weight: bold"><span style="color: #000000">ClearLastKey</span></span><span style="color: #990000">();</span>
<span style="color: #009900">void</span> InputDevice<span style="color: #990000">::</span><span style="font-weight: bold"><span style="color: #000000">ClearLastChar</span></span><span style="color: #990000">();</span></tt></pre></div></div>
</div>
<div class="sect2">
<h3 id="_mouse_input">Mouse input</h3>
<div class="paragraph"><p>Same as above, but for mouse buttons.</p></div>
<div class="listingblock">
<div class="content"><!-- Generator: GNU source-highlight 3.1.3
by Lorenzo Bettini
http://www.lorenzobettini.it
http://www.gnu.org/software/src-highlite -->
<pre><tt><span style="color: #009900">bool</span> InputDevice<span style="color: #990000">::</span><span style="font-weight: bold"><span style="color: #000000">IsButtonDown</span></span><span style="color: #990000">(</span><span style="color: #009900">int</span> _button<span style="color: #990000">);</span>
<span style="color: #009900">int</span> InputDevice<span style="color: #990000">::</span><span style="font-weight: bold"><span style="color: #000000">GetLastButton</span></span><span style="color: #990000">();</span>
<span style="color: #009900">void</span> InputDevice<span style="color: #990000">::</span><span style="font-weight: bold"><span style="color: #000000">ClearLastButton</span></span><span style="color: #990000">();</span></tt></pre></div></div>
<div class="paragraph"><p>Set/get active mouse mode</p></div>
<div class="listingblock">
<div class="content"><!-- Generator: GNU source-highlight 3.1.3
by Lorenzo Bettini
http://www.lorenzobettini.it
http://www.gnu.org/software/src-highlite -->
<pre><tt>Input<span style="color: #990000">::</span><span style="color: #008080">MouseMode</span> InputDevice<span style="color: #990000">::</span><span style="font-weight: bold"><span style="color: #000000">GetMouseMode</span></span><span style="color: #990000">();</span>
<span style="color: #009900">void</span> InputDevice<span style="color: #990000">::</span><span style="font-weight: bold"><span style="color: #000000">SetMouseMode</span></span><span style="color: #990000">(</span>MouseMode _Mode<span style="color: #990000">);</span></tt></pre></div></div>
<div class="paragraph"><p>Get mouse position (either absolute or relative to the previous frame; depending on mouse mode)</p></div>
<div class="listingblock">
<div class="content"><!-- Generator: GNU source-highlight 3.1.3
by Lorenzo Bettini
http://www.lorenzobettini.it
http://www.gnu.org/software/src-highlite -->
<pre><tt><span style="color: #009900">void</span> InputDevice<span style="color: #990000">::</span><span style="font-weight: bold"><span style="color: #000000">GetMousePos</span></span><span style="color: #990000">(</span><span style="color: #009900">int</span> <span style="color: #990000">*</span>x<span style="color: #990000">,</span> <span style="color: #009900">int</span> <span style="color: #990000">*</span>y<span style="color: #990000">);</span>
<span style="color: #009900">void</span> InputDevice<span style="color: #990000">::</span><span style="font-weight: bold"><span style="color: #000000">SetMousePos</span></span><span style="color: #990000">(</span><span style="color: #009900">int</span> x<span style="color: #990000">,</span> <span style="color: #009900">int</span> y<span style="color: #990000">);</span></tt></pre></div></div>
<div class="paragraph"><p>Set visibility of the system cursor</p></div>
<div class="listingblock">
<div class="content"><!-- Generator: GNU source-highlight 3.1.3
by Lorenzo Bettini
http://www.lorenzobettini.it
http://www.gnu.org/software/src-highlite -->
<pre><tt><span style="color: #009900">void</span> InputDevice<span style="color: #990000">::</span><span style="font-weight: bold"><span style="color: #000000">ShowCursor</span></span><span style="color: #990000">(</span><span style="color: #009900">bool</span> _show<span style="color: #990000">);</span></tt></pre></div></div>
<div class="listingblock">
<div class="title">Special keys</div>
<div class="content">
<pre><tt>    UNKNOWN
    SPACE
    SPECIAL
    ESC
    F1
    F2
    F3
    F4
    F5
    F6
    F7
    F8
    F9
    F10
    F11
    F12
    F13
    F14
    F15
    F16
    F17
    F18
    F19
    F20
    F21
    F22
    F23
    F24
    F25
    UP
    DOWN
    LEFT
    RIGHT
    LSHIFT
    RSHIFT
    LCTRL
    RCTRL
    LALT
    RALT
    TAB
    ENTER
    BACKSPACE
    INSERT
    DEL
    PAGEUP
    PAGEDOWN
    HOME
    END
    KP_0
    KP_1
    KP_2
    KP_3
    KP_4
    KP_5
    KP_6
    KP_7
    KP_8
    KP_9
    KP_DIVIDE
    KP_MULTIPLY
    KP_SUBTRACT
    KP_ADD
    KP_DECIMAL
    KP_EQUAL
    KP_ENTER
    LAST</tt></pre>
</div></div>
<div class="listingblock">
<div class="title">Mouse modes</div>
<div class="content">
<pre><tt>    MODE_RELATIVE
    MODE_ABSOLUTE</tt></pre>
</div></div>
<div class="listingblock">
<div class="title">Mouse buttons</div>
<div class="content">
<pre><tt>    MOUSE_1
    MOUSE_2
    MOUSE_3
    MOUSE_4
    MOUSE_5
    MOUSE_6
    MOUSE_7
    MOUSE_8

    MOUSE_NONE
    MOUSE_LAST
    MOUSE_LEFT
    MOUSE_RIGHT
    MOUSE_MIDDLE</tt></pre>
</div></div>
</div>
</div>
</div>
<div class="sect1">
<h2 id="_network">Network</h2>
<div class="sectionbody">
<div class="listingblock">
<div class="title">Network::NetworkDevice</div>
<div class="content"><!-- Generator: GNU source-highlight 3.1.3
by Lorenzo Bettini
http://www.lorenzobettini.it
http://www.gnu.org/software/src-highlite -->
<pre><tt>Server<span style="color: #990000">*</span> <span style="font-weight: bold"><span style="color: #000000">CreateServer</span></span><span style="color: #990000">();</span>
Client<span style="color: #990000">*</span> <span style="font-weight: bold"><span style="color: #000000">CreateClient</span></span><span style="color: #990000">();</span>

Server<span style="color: #990000">*</span> <span style="font-weight: bold"><span style="color: #000000">GetServer</span></span><span style="color: #990000">(</span><span style="font-weight: bold"><span style="color: #0000FF">const</span></span> <span style="color: #009900">int</span> _ServerIdent<span style="color: #990000">);</span>
Client<span style="color: #990000">*</span> <span style="font-weight: bold"><span style="color: #000000">GetClient</span></span><span style="color: #990000">(</span><span style="font-weight: bold"><span style="color: #0000FF">const</span></span> <span style="color: #009900">int</span> _ClientIdent<span style="color: #990000">);</span>

<span style="color: #009900">void</span> <span style="font-weight: bold"><span style="color: #000000">KillServer</span></span><span style="color: #990000">(</span><span style="font-weight: bold"><span style="color: #0000FF">const</span></span> <span style="color: #009900">int</span> _ServerIdent<span style="color: #990000">);</span>
<span style="color: #009900">void</span> <span style="font-weight: bold"><span style="color: #000000">KillClient</span></span><span style="color: #990000">(</span><span style="font-weight: bold"><span style="color: #0000FF">const</span></span> <span style="color: #009900">int</span> _ClientIdent<span style="color: #990000">);</span>

<span style="color: #009900">int</span> <span style="font-weight: bold"><span style="color: #000000">AddTag</span></span><span style="color: #990000">(</span><span style="color: #009900">char</span><span style="color: #990000">*</span> _Name<span style="color: #990000">);</span>
Util<span style="color: #990000">::</span>Array<span style="color: #990000">&lt;</span><span style="color: #009900">char</span><span style="color: #990000">*&gt;*</span> <span style="font-weight: bold"><span style="color: #000000">GetTags</span></span><span style="color: #990000">();</span></tt></pre></div></div>
<div class="listingblock">
<div class="title">Network::Client</div>
<div class="content"><!-- Generator: GNU source-highlight 3.1.3
by Lorenzo Bettini
http://www.lorenzobettini.it
http://www.gnu.org/software/src-highlite -->
<pre><tt><span style="color: #009900">bool</span> <span style="font-weight: bold"><span style="color: #000000">Connect</span></span><span style="color: #990000">(</span><span style="font-weight: bold"><span style="color: #0000FF">const</span></span> <span style="color: #009900">char</span><span style="color: #990000">*</span> _Host<span style="color: #990000">,</span> <span style="font-weight: bold"><span style="color: #0000FF">const</span></span> <span style="color: #009900">int</span> _Port<span style="color: #990000">);</span>
<span style="color: #009900">bool</span> <span style="font-weight: bold"><span style="color: #000000">Disconnect</span></span><span style="color: #990000">();</span>
<span style="color: #009900">bool</span> <span style="font-weight: bold"><span style="color: #000000">Connected</span></span><span style="color: #990000">();</span>

Packet<span style="color: #990000">*</span> <span style="font-weight: bold"><span style="color: #000000">Recv</span></span><span style="color: #990000">();</span>
Packet<span style="color: #990000">*</span> <span style="font-weight: bold"><span style="color: #000000">RecvNonBlocking</span></span><span style="color: #990000">(</span><span style="font-weight: bold"><span style="color: #0000FF">const</span></span> <span style="color: #009900">int</span> _Timeout<span style="color: #990000">);</span>
<span style="color: #009900">bool</span> <span style="font-weight: bold"><span style="color: #000000">Send</span></span><span style="color: #990000">(</span><span style="font-weight: bold"><span style="color: #0000FF">const</span></span> <span style="color: #009900">int</span> _Type<span style="color: #990000">,</span> <span style="font-weight: bold"><span style="color: #0000FF">const</span></span> <span style="color: #009900">char</span><span style="color: #990000">*</span> _Buf<span style="color: #990000">);</span></tt></pre></div></div>
<div class="listingblock">
<div class="title">Network::Server</div>
<div class="content"><!-- Generator: GNU source-highlight 3.1.3
by Lorenzo Bettini
http://www.lorenzobettini.it
http://www.gnu.org/software/src-highlite -->
<pre><tt><span style="color: #009900">bool</span> <span style="font-weight: bold"><span style="color: #000000">Bind</span></span><span style="color: #990000">(</span><span style="font-weight: bold"><span style="color: #0000FF">const</span></span> <span style="color: #009900">int</span> _Port<span style="color: #990000">);</span>
<span style="color: #009900">bool</span> <span style="font-weight: bold"><span style="color: #000000">Shutdown</span></span><span style="color: #990000">();</span>

Packet<span style="color: #990000">*</span> <span style="font-weight: bold"><span style="color: #000000">Recv</span></span><span style="color: #990000">();</span>
Packet<span style="color: #990000">*</span> <span style="font-weight: bold"><span style="color: #000000">RecvNonBlocking</span></span><span style="color: #990000">(</span><span style="font-weight: bold"><span style="color: #0000FF">const</span></span> <span style="color: #009900">int</span> _Timeout<span style="color: #990000">);</span>
<span style="color: #009900">bool</span> <span style="font-weight: bold"><span style="color: #000000">Send</span></span><span style="color: #990000">(</span><span style="font-weight: bold"><span style="color: #0000FF">const</span></span> <span style="color: #009900">int</span> _Client<span style="color: #990000">,</span> <span style="font-weight: bold"><span style="color: #0000FF">const</span></span> <span style="color: #009900">int</span> _Type<span style="color: #990000">,</span> <span style="font-weight: bold"><span style="color: #0000FF">const</span></span> <span style="color: #009900">char</span><span style="color: #990000">*</span> _Buf<span style="color: #990000">);</span>
<span style="color: #009900">bool</span> <span style="font-weight: bold"><span style="color: #000000">SendAll</span></span><span style="color: #990000">(</span><span style="font-weight: bold"><span style="color: #0000FF">const</span></span> <span style="color: #009900">int</span> _Type<span style="color: #990000">,</span> <span style="font-weight: bold"><span style="color: #0000FF">const</span></span> <span style="color: #009900">char</span><span style="color: #990000">*</span> _Buf<span style="color: #990000">);</span>
<span style="color: #009900">bool</span> <span style="font-weight: bold"><span style="color: #000000">SendAllL</span></span><span style="color: #990000">(</span><span style="font-weight: bold"><span style="color: #0000FF">const</span></span> <span style="color: #009900">int</span> _Type<span style="color: #990000">,</span> <span style="font-weight: bold"><span style="color: #0000FF">const</span></span> <span style="color: #009900">char</span><span style="color: #990000">*</span> _Buf<span style="color: #990000">,</span> <span style="font-weight: bold"><span style="color: #0000FF">const</span></span> <span style="color: #009900">int</span> _Length<span style="color: #990000">);</span>
<span style="color: #009900">bool</span> <span style="font-weight: bold"><span style="color: #000000">SendAllID</span></span><span style="color: #990000">(</span><span style="font-weight: bold"><span style="color: #0000FF">const</span></span> <span style="color: #009900">char</span><span style="color: #990000">*</span> _ID<span style="color: #990000">,</span> <span style="font-weight: bold"><span style="color: #0000FF">const</span></span> <span style="color: #009900">int</span> _Type<span style="color: #990000">,</span> <span style="font-weight: bold"><span style="color: #0000FF">const</span></span> <span style="color: #009900">char</span><span style="color: #990000">*</span> _Buf<span style="color: #990000">,</span> <span style="font-weight: bold"><span style="color: #0000FF">const</span></span> <span style="color: #009900">int</span> _Length<span style="color: #990000">);</span></tt></pre></div></div>
<div class="listingblock">
<div class="title">Network::Packet</div>
<div class="content"><!-- Generator: GNU source-highlight 3.1.3
by Lorenzo Bettini
http://www.lorenzobettini.it
http://www.gnu.org/software/src-highlite -->
<pre><tt><span style="color: #009900">char</span><span style="color: #990000">*</span> <span style="font-weight: bold"><span style="color: #000000">GetData</span></span><span style="color: #990000">();</span>
<span style="color: #009900">int</span> <span style="font-weight: bold"><span style="color: #000000">GetSender</span></span><span style="color: #990000">();</span>
<span style="color: #009900">int</span> <span style="font-weight: bold"><span style="color: #000000">GetLength</span></span><span style="color: #990000">();</span>
<span style="color: #009900">int</span> <span style="font-weight: bold"><span style="color: #000000">GetTag</span></span><span style="color: #990000">();</span>
<span style="color: #009900">char</span><span style="color: #990000">*</span> <span style="font-weight: bold"><span style="color: #000000">GetID</span></span><span style="color: #990000">();</span></tt></pre></div></div>
</div>
</div>
</div>
<div id="footnotes"><hr /></div>
<div id="footer">
<div id="footer-text">
Last updated 2010-10-13 16:09:56 UTC
</div>
</div>
</body>
</html>
